import { forwardRef, useState } from 'react';
import styled from 'styled-components';
import { IconCSS, IconProps, IconStyleProps } from './icon';
import { uuid } from './uuid';

const SVGComponent = forwardRef<SVGSVGElement, IconProps>(
  ({ title, ...props }, svgRef) => {
    const [titleId] = useState(() => (title ? uuid(title) : undefined));

    return (
      <svg
        xmlns='http://www.w3.org/2000/svg'
        width='1em'
        height='1em'
        viewBox='0 0 18 18'
        fill='currentColor'
        ref={svgRef}
        aria-labelledby={titleId}
        {...props}
      >
        {title ? <title id={titleId}>{title}</title> : null}
        <path d='M7.5 1.5C6.56142 1.5005 5.63606 1.72119 4.79827 2.14432C3.96049 2.56745 3.23365 3.18122 2.67619 3.93631C2.11872 4.69139 1.74618 5.56673 1.58849 6.49196C1.4308 7.4172 1.49238 8.36652 1.76826 9.26363C2.04414 10.1607 2.52664 10.9806 3.17698 11.6574C3.82731 12.3341 4.62734 12.8489 5.51276 13.1602C6.39819 13.4716 7.34431 13.5709 8.27508 13.4501C9.20586 13.3294 10.0953 12.992 10.872 12.465L14.58 16.17C14.683 16.2805 14.8072 16.3692 14.9452 16.4307C15.0832 16.4922 15.2322 16.5252 15.3832 16.5279C15.5343 16.5306 15.6843 16.5028 15.8244 16.4462C15.9645 16.3896 16.0917 16.3054 16.1986 16.1986C16.3054 16.0917 16.3896 15.9645 16.4462 15.8244C16.5028 15.6843 16.5305 15.5343 16.5279 15.3832C16.5252 15.2322 16.4922 15.0832 16.4307 14.9452C16.3692 14.8072 16.2805 14.683 16.17 14.58L12.465 10.872C13.0779 9.96987 13.4334 8.91773 13.4932 7.8287C13.5529 6.73968 13.3147 5.65496 12.8041 4.69119C12.2935 3.72742 11.5299 2.92105 10.5954 2.35877C9.6608 1.7965 8.59066 1.4996 7.5 1.5ZM3.75 7.5C3.75 6.50544 4.14509 5.55161 4.84835 4.84835C5.55161 4.14509 6.50543 3.75 7.5 3.75C8.49456 3.75 9.44839 4.14509 10.1516 4.84835C10.8549 5.55161 11.25 6.50544 11.25 7.5C11.25 8.49456 10.8549 9.44839 10.1516 10.1517C9.44839 10.8549 8.49456 11.25 7.5 11.25C6.50543 11.25 5.55161 10.8549 4.84835 10.1517C4.14509 9.44839 3.75 8.49456 3.75 7.5Z' />
      </svg>
    );
  },
);

const Search = styled(SVGComponent)<IconStyleProps>`
  ${IconCSS}
`;

export default Search;

Search.defaultProps = {
  size: 24,
};
